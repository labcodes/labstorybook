@use "sass:map";

$tag-font-size: 14px;
$tag-line-heigt: 20px;

$tag-background: $teal-40;
$tag-border: 2px;


// soft
$tag-soft-color: map-get($tag-theme, "20");
$tag-border-color: map-get($tag-theme, "20");
$tag-text-color: map-get($tag-theme, "70");
$tag-hover-color: white;
$tag-hover-shadow-color: map-get($tag-theme, "20");
$tag-focus-shadow-color: map-get($tag-theme, "30");
$tag-focus-hover-bg-color: $tag-hover-color;

// intense
$tag-intense-color: map-get($tag-theme, "60");
$tag-intense-border-color: $tag-intense-color;
$tag-intense-text-color: white;
$tag-intense-hover-color: mix($tag-intense-color, black, 50%);
// $tag-intense-hover-shadow-color: map-get($tag-theme, "20");
// $tag-intense-focus-shadow-color: map-get($tag-theme, "30");
// $tag-intense-focus-hover-bg-color: $tag-hover-color;

.lab-tag {
  height: 24px;
  margin: 4px; //think if this should be here or not
  padding: 0 16px;
  font-size: $tag-font-size;
  line-height: $tag-line-heigt;
  font-weight: $weight-bold;
  border-radius: 12px;
  border: $tag-border solid;
  text-decoration: none;
  transition: all $duration-base;
  cursor: pointer;
  outline: none;
  font-family: $font-primary;
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
  -webkit-font-smoothing: antialiased;

  &:hover {
    box-shadow: 0 0 0 4px $tag-hover-shadow-color;
  }

  &:focus {
    box-shadow: 0 0 0 2px $tag-focus-shadow-color;
  }

  &:focus:hover {
    box-shadow: 0 0 0 2px $tag-focus-shadow-color, 0 0 0 4px $tag-hover-shadow-color;
  }
}

/* Elements */
.lab-tag__thumb {
  position: relative;
  left: -$tag-border;
  width: 24px;
  height: 24px;
  border-radius: 12px;
  margin-right: calc(#{$spacing-02} - #{$tag-border});
}

.lab-tag__left-icon {
  display: flex;
  margin-right: $spacing-01;

  .lab-icon {
    background-color: $tag-text-color;
  }
}

.lab-tag__right-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: $spacing-02;
  width: 16px;
  height: 16px;

  .lab-icon {
    background-color: $tag-text-color;
  }

  /* Tag right icon modifier */
  &--remove {
    background-color: white;
    border-radius: 8px;

    .lab-tag--outline & {
      background-color: $tag-border-color;
    }
  }

  /* Tag dropdown icon modifier */
  &--dropdown {
    padding-right: $spacing-02;
  }
}

/* Tag with elements */
.lab-tag--has-thumb {
  padding-left: 0;
}

.lab-tag--has-left-icon {
  padding-left: $spacing-01;
}

.lab-tag--has-right-icon {
  padding-right: calc(#{$spacing-01} - #{$tag-border});
}

/* Tag styles: fill or outline */
.lab-tag--fill {
  border-color: $tag-soft-color;
  background-color: $tag-soft-color;
  color: $tag-text-color;

  &:hover {
    background-color: $tag-hover-color;
    border-color: $tag-hover-color;
  }

  &:focus:hover {
    border-color: $tag-focus-hover-bg-color;
  }

  &.lab-tag--disabled {
    background-color: $mineral-10;
    color: $mineral-30;
    border-color: $mineral-10;
    pointer-events: none;
  }
}

.lab-tag--outline {
  border-color: $tag-border-color;
  background-color: white;
  color: $tag-text-color;
  
  &.lab-tag--disabled {
    color: $mineral-30;
    border-color: $mineral-10;
    pointer-events: none;
  }
  
  &.lab-tag--intense {
    color: $tag-soft-color;
  }
}

//Tag colors and color styles
.lab-tag--teal-soft {}
.lab-tag--teal-intense {
  border-color: $tag-intense-color;
  background-color: $tag-intense-color;
  color: white;

  &:hover {
    background-color: $tag-intense-hover-color;
    border-color: $tag-intense-hover-color;
  }

  .lab-icon { background-color: $white; }
  .lab-tag__right-icon--remove  .lab-icon { background-color: $tag-intense-color }
}

.lab-tag--purple-soft {}
.lab-tag--purple-intense {}

.lab-tag--mineral-soft {}
.lab-tag--mineral-intense {}

.lab-tag--green-soft {}
.lab-tag--green-intense {}
.lab-tag--red-soft {
  background-color: map-get(map-get($all-colors, "red"), "20");
  color: $black-75;
  border-color: map-get(map-get($all-colors, "red"), "20");

  &:hover {
    background-color: white;
    border-color: white;
    box-shadow: 0 0 0 4px map-get(map-get($all-colors, "red"), "20");
  }
  
  &:focus {
    box-shadow: 0 0 0 2px map-get(map-get($all-colors, "red"), "60");
  }

  &:focus:hover {
    box-shadow: 0 0 0 2px map-get(map-get($all-colors, "red"), "60"), 0 0 0 4px map-get(map-get($all-colors, "red"), "20");
  }
}

.lab-tag--red-intense {}
.lab-tag--yellow-soft {}
.lab-tag--yellow-intense {}

.lab-tag--cyan-soft {}
.lab-tag--cyan-intense {}
.lab-tag--pink-soft {}
.lab-tag--pink-intense {}
.lab-tag--orange-soft {}
.lab-tag--orange-intense {}

@each $name, $palette in $tag-all-colors {
  .lab-tag--#{$name}-soft {
    background-color: map-get($palette, "20");
    color: $black-75;
    border-color: map-get($palette, "20");

    &:hover {
      background-color: white;
      border-color: white;
      box-shadow: 0 0 0 4px map-get($palette, "20");
    }
    
    &:focus {
      box-shadow: 0 0 0 2px map-get($palette, "60");
    }

    &:focus:hover {
      box-shadow: 0 0 0 2px map-get($palette, "60"), 0 0 0 4px map-get($palette, "20");
    }
  }

  .lab-tag--#{$name}-intense {
    background-color: map-get($palette, "60");
    border-color: map-get($palette, "60");
    color: white;
    
    @if $name == "yellow" {
      color: $black-75;
    }
    
    &:hover {
      background-color: mix(map-get($palette, "60"), black, 50%);
      border-color: mix(map-get($palette, "60"), black, 50%);
      box-shadow: 0 0 0 4px map-get($palette, "60");
      color: white;
    }
    
    &:focus {
      box-shadow: 0 0 0 2px map-get($palette, "60");
      border-color: map-get($palette, "20");
    }

    &:focus:hover {
      box-shadow: 0 0 0 2px map-get($palette, "20"), 0 0 0 4px map-get($palette, "60");
      border-color: mix(map-get($palette, "60"), black, 50%);
    }
  }
}


/* Tag colorStyle: soft or intense */

/* Tag colors */ 



// Colors
/* TEAL */

// $tag-soft-palettes: (
//   "teal": $teal-palette,
//   "purple": $purple-palette,
// );

// .lab-tag--fill {
//     border-color: $teal;

//     @each $name, $palette in $tag-soft-palettes {
//         @each $key, $color in $palette {
//             .lab-tag--#{$name}-intense {
//                 color: $color;
//             }
//         }
//     }
// }